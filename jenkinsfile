pipeline {
    agent any
    environment {
        BRANCH_NAME = 'protect/deploy'
    }
    stage('Check Branch') {
        steps {
            script {
                // Kiểm tra nếu branch hiện tại là 'protect/deploy'
                if (env.GIT_BRANCH == "refs/heads/${BRANCH_NAME}") {
                    echo "Branch is ${BRANCH_NAME}. Continuing pipeline..."
                } else {
                    error "Not on the correct branch. Stopping pipeline."
                }
            }
        }
    }
    stage('Clone') {
        steps {
            git 'https://github.com/vutrieuIT/fe_admin.git'
        }
    }
}